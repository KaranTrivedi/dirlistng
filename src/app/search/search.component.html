<!-- <input (input)="onSearchChange($event.target.value)"> -->
<div class="input">
    <mat-form-field class="example-full-width" color="accent">
        <mat-label>Enter</mat-label>
        <input matInput placeholder="Ex. Pizza" [value]="search" (input)="onSearchChange($event.target.value)">
    </mat-form-field>

    <button mat-button [matMenuTriggerFor]="menu" (mouseenter)="menuTrigger.openMenu()" #menuTrigger="matMenuTrigger">
        Sort: {{column}},
        {{sort}}</button>

    <mat-menu #menu="matMenu">
        <span (mouseleave)="menuTrigger.closeMenu()">
            <button mat-menu-item (click)="onSort('name')">Name</button>
            <button mat-menu-item (click)="onSort('modify_time')">Date</button>
            <button mat-menu-item (click)="onSort('size')">Size</button>
        </span>
    </mat-menu>
</div>

<div *ngIf="files?.exception">
    <p class="exception">{{files?.exception}}</p>
</div>

<mat-paginator [pageIndex]="pageIndex" [length]="files?.length" [pageSize]="pageSize"
    [pageSizeOptions]="pageSizeOptions" (page)="paginate($event)">
</mat-paginator>

<div class="files-container" *ngIf="files?.length > 0">
    <h3>Files</h3>

    <mat-accordion>
        <div *ngFor="let file of files.data">
            <mat-expansion-panel (click)="onView(file)" (opened)="panelOpenState = true" (closed)="panelOpenState = false" hideToggle>
                <mat-expansion-panel-header>
                    <mat-panel-title>
                        {{file?.name}}
                    </mat-panel-title>
                    <mat-panel-description>
                        {{file?.size_h}} - {{file?.modify_time_h}}
                    </mat-panel-description>
                </mat-expansion-panel-header>
                {{file?.parent}}
                <mat-divider></mat-divider>
                <!-- <td>
                    <button mat-button (click)="onView(file)">View</button>
                </td> -->
                <app-search-video [src]="('http://192.168.0.16:8000/shows/file?ui_path='+file?.path)"
                    [show]="panelOpenState">
                </app-search-video>
            </mat-expansion-panel>
        </div>
        </mat-accordion>
    <br>
</div>