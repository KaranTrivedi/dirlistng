<div class="page-container">
    <nav mat-tab-nav-bar backgroundColor="primary">
        <button mat-button>
            <mat-icon matTooltip="Hotkey: `">menu</mat-icon>
        </button>
        <mat-form-field class="search-bar" color="accent">
            <mat-label>Search</mat-label>
            <input matTooltip="Hotkey: /" matInput placeholder="Ex. aven" [value]="query" (input)="onSearchChange($event.target.value)" #box>
        </mat-form-field>

        <button mat-button [matMenuTriggerFor]="menu">
            <mat-icon>more_vert</mat-icon>
        </button>
        <mat-menu #menu="matMenu">
            <button mat-menu-item>
                <div matSort matSortDisableClear (matSortChange)="sortData($event)" [matSortActive]="column"
                    [matSortDirection]="sort" class="input">
                    <th>Sort:&nbsp;&nbsp;</th>
                    <th mat-sort-header="name">Name</th>
                    <th mat-sort-header="modify_time">Time</th>
                    <th mat-sort-header="size">Size</th>
                </div>
            </button>
        </mat-menu>
    </nav>

    <div class="content-container">
        <div class="displayer-container">
            <div class="navigator-parent">
                <div class="navigator-container">
                    <div class="direction">
                        <div (click)="onPage('first')">
                            <button matTooltip="Hotkey: [" mat-button [disabled]="index===0">
                                <mat-icon>first_page</mat-icon>
                            </button>
                        </div>

                        <div (click)="onPage('prev')">
                            <button matTooltip="Hotkey: -" mat-button [disabled]="index===0">
                                <mat-icon>navigate_before</mat-icon>
                            </button>
                        </div>
                    </div>

                    <div class="direction">
                        <button matTooltip="Hotkey: ." mat-button (click)="onRandom()">Random!</button>
                    </div>

                    <div class="direction">
                        <div (click)="onPage('next')">
                            <button matTooltip="Hotkey: =" mat-button [disabled]="index===images.files.length-1">
                                <mat-icon>navigate_next</mat-icon>
                            </button>
                        </div>

                        <div (click)="onPage('last')">
                            <button matTooltip="Hotkey: ]" mat-button [disabled]="index===images.files.length-1">
                                <mat-icon>last_page</mat-icon>
                            </button>
                        </div>
                    </div>
                </div>
            </div>

            <div class="image-container">
                <img [src]="imageSource" class="displayer">
            </div>
            <div class="text-container">
                {{images.files[index].name}} - {{images.files[index].size_h}} - {{images.files[index].ext}}
                <button mat-button (click)="onDownload(images.files[index])">Download</button>
            </div>
        </div>

        <div class="bar">
            <div *ngFor="let file of images?.files;  let i = index" [ngClass]="{'highlight': i === index}">
                <div alt="{{file?.name}}" class="bar-val" (click)="onClickImage(i)">
                    <img class="img-icon" src="assets/{{file.ext}}.png">&nbsp;{{file?.name}} - {{file?.size_h}}
                </div>
            </div>
        </div>
    </div>
</div>